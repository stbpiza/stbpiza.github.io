---
layout: post
title: "16th day"
author: "stbpiza"
---

어제 집에 가는길에 중복을 줄이는 아이디어가 떠올랐다.

그래서 아침일찍 오자마자 중복을 줄였다.

어제는 5가지 연산별로 메소드를 만들어서 총 5가지 메소드가 있었다.

그 부분을 메소드 인풋값에 연산기호 를 추가해서 

마지막 계산파트에 if else구문으로 연산기호별로 계산을 처리해주도록 했다.

그래서 5가지 메소드에서 1가지 메소드로 양을 줄였다.

그리고 대망의 괄호 처리 기능을 추가했다.

괄호 처리 기능은 어제 이미 설계했었던 내용이다.

연산기호 for문을 돌리기 전에 ( for문을 돌려서 해당 위치를 변수에 넣어두고,

)를 찾으면 해당위치를 변수에 넣어서 (부터 )까지 잘라서 어제 만든 계산파트에 넣어주면 된다.

그러면 해당 부분이 계산이 끝나고 () 대신 결과값을 넣어주면 된다.

그리고 다시 ( for문이 돌면서 모든 괄호를 찾을때까지 진행한다.

그러나 이 방법도 문제가 있었는데, 괄호가 여러개인 경우였다.

1+(5+3+(1+2)) 같은 경우나 1+(5+3)+8+(1+1) 같은 경우까지 커버해줘야했다.

그래서 찾은 방법이 (를 찾아서 위치를 저장해두고, (를 또 찾으면 기존 위치정보를 덮어쓰는 것이다.

그리고 첫 )를 찾으면 바로 내용을 자르면 괄호가 아무리 많아도 맞는 짝을 찾게 된다.

그리고 가장 안쪽의 괄호를 찾아주기 때문에 계산파트로 내용을 보내줄때 그 안에 다른 괄호가 들어있지 않다.

계산파트가 계산을 마치고 값을 주면 ( ) 영역을 결과값 으로 치환해버리면 문제없이 이어진다.

그래서 무사히 완성했나 싶었으나...

0으로 나눠질때가 문제였다.

0으로 나누면 결과값이 Infinite 가 나와서 숫자가 아니라서 과정이 꼬인다.

그래서 무한이 뜨면 결과값을 x로 바꾸도록 했고, x를 찾으면 계산을 바로 멈추도록 했다.

그래서 해결했고, 처음 입력에 숫자와 연산기호 외에 다른 문자들을 입력하는 경우도 막았다.

모든 내용을 for문을 돌려서 숫자가 아닌 내용이 있으면 int변수를 1씩 올렸고,

우리가 쓰는 기호라면 다시 1씩 내려줘서 결과가 0이면 통과 아니면 리젝 방식으로 막았다.

하지만 1**1 같은 오류는 막지 못했는데, 막을 아이디어는 있는데 시간이 부족해서 그냥 추가하지 않았다.

연산기호를 찾았을때 바로 옆이 숫자인지 아닌지 확인해서 숫자가 아니면 멈춰주면 될 것이다.

그리고 정규표현식으로 주민등록번호 형식을 찾는 과제도 했는데,

처음에 정규표현식이 이해가 안가서 오래 헤메다가,

1월부터 12월은 (0[1-9] | 1[0-2]) 로 하면 된다는걸 알고나서

여러자리도 정할 수 있게 되었다. 그 전에는 [0-1][0-9] 방식으로 해서 13월 14월도 들어갔었다.

--------------------------------
-오늘의 발전<br>
(java)<br>
정규표현식
