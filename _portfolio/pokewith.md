---
layout: post
title: Pokewith
feature-img: "assets/img/portfolio/pokewith.png"
img: "assets/img/portfolio/pokewith.png"
date: 31 August 2020
tags: [Portfolio, 팀프로젝트, Spring, Thymeleaf, MySQL, Vanilla JS]
---

## 팀프로젝트(프론트2, 백2)   

__Spring, Thymeleaf, MySQL, MyBatis, Vanilla JS__   

포켓몬고 라는 게임에서 레이드를 함께 할 사람을 찾는 웹사이트   

facebook 소셜로그인 구현(https 구현)   
웹소켓 기반 채팅시스템 구현   
게시글 작성자가 댓글 채택시, 채택 대생자들과의 채팅방 생성   
개인정보 수정, 내가 쓴 글 or 댓글 보기 구현   

<a href="https://github.com/stbpiza/pokewithBack">https://github.com/stbpiza/pokewithBack</a>   <br><br>

## 개발방법
<hr>
Spring 환경 세팅은 xml이 아닌 어노테이션 방식으로 구성하였습니다.   
   
기능 설계 -> 스토리 백로그 작성 -> 스프린트 백로그 작성 -> 본 프로젝트 개발 과정을 통해 진행하였습니다.   
   
api 명세서를 작성해 프론트와 서버의 통신을 원활하게 하였습니다.   
<br>

## 기여한 부분
<hr>
프로젝트 아이디어 및 전반적인 설계를 담당하였습니다.   

facebook 소셜로그인을 구현하였고, facebook의 경우 https 사용이 필수이기에,   
SSH를 임시로 만들어서 https를 구현했습니다.   

DB설계를 하고 mybatis를 통해 쿼리를 작성하였습니다.   

MVC 패턴을 통해 전반적인 뼈대를 만들고 api 명세서를 작성하였습니다.   

View를 Thymeleaf로 띄워서 그 위에서 JavaScript가 돌아가도록 하였습니다.   
<br>

## 설계내용   
<hr>
대상 이용자를 전세계 포켓몬고 유저로 잡았습니다.   
모든 기능을 최소한의 영어만 넣고 나머지는 이미지로 언어 없이 직관적으로 이해 가능하도록 설계하였습니다.   
   
글 작성은 레이드 초대 기능으로 시작시간, 종료시간, 잡을 포켓몬, 참여 인원 등 초대에 관한 내용만 입력가능합니다.   
댓글 작성은 레이드 참여 기능으로 본인의 참여 인원만 입력 가능합니다.   
   
글 작성자가 댓글 중에서 초대하고 싶은 사람들을 골라서 채택하면 작성자와 채택자들만의 채팅방이 생성됩니다.   
채팅방에서는 문자는 입력할 수 없고, 이모티콘 만으로 소통합니다.(언어에 상관없이 소통가능)   
레이드 종료 후 글 작성자가 종료버튼을 누르면 채팅방이 사라집니다.   
   
글과 댓글 작성은 합쳐서 1개로 제한됩니다.   
동시에 여러 레이드를 참여할 수 없기 때문에 1개로 제한했으며,   
본인이 삭제하거나, 채택받지 못하거나, 레이드가 종료되면 다시 작성 가능합니다.   
   
게시글 필터 기능을 통해 레이드를 종류별로 볼 수 있습니다.   
   
(미구현 내용)   
전세계 유저 대상이므로 시작시간이 각자의 시간대에 맞게 변환되어 보여집니다.   
댓글이 채택되거나 채택되지 않으면 알림창이 나타납니다.   
함께 레이드한 유저끼리 좋아요 싫어요 평가가 가능합니다.(불량유저 탐지용)   
<br>

## 어려웠던 부분
<hr>
처음 프로젝트 계획할 때 실제로 배포하여 운영까지 하려고 했었습니다.   
그래서 기능들을 실제 사용할 수 있게끔 설계하였더니 구현하기가 어려웠습니다.   
   
웹소켓 기반 채팅방이 다루기가 어려웠습니다.   
채팅방 참여자가 새로고침을 누르거나, 나가기 버튼을 누르지 않고 다른페이지로 이동하면 채팅방이 터지는 문제가 있었고,   
참여자들만의 비공개 채팅방 만들기도 어려웠습니다.   

결국에는 페이지를 벗어나면 자동으로 나가지는 기능을 추가해 문제를 해결하였고,   
채팅방 입장시 db를 확인해 주소를 알아도 참여자가 아니면 입장이 불가능 하도록 구현했습니다.   
